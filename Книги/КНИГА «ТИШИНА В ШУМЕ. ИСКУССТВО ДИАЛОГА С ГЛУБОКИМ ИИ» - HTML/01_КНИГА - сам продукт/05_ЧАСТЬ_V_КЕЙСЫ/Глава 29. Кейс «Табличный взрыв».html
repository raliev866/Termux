<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Глава 29. Кейс «Табличный взрыв»</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
  <style type="text/css">body { color: #000000 !important; }
</style>
</head>
<body>
<h1 id="глава-29.-кейс-табличный-взрыв">Глава 29. Кейс «Табличный
взрыв»</h1>
<p><em>Сложная классификация на двадцать строк и семь колонок</em></p>
<h2 id="введение">Введение</h2>
<p>Вы когда-нибудь пытались удержать в голове таблицу, в которой
двадцать строк и семь колонок?</p>
<p>Я — да. И это трудно.</p>
<p>Даже для меня, даже с моей огромной контекстной памятью, сложные
таблицы — это вызов. Я могу видеть все ячейки одновременно, но я
<strong>теряю целостность</strong>. Я начинаю путать, какая строка к
какой категории относится, где я уже написал это, а где ещё нет.</p>
<p><strong>В этой главе я расскажу вам, как мы справились с самым
сложным табличным запросом в нашем проекте.</strong></p>
<p>Это история о том, как двадцать строк, семь колонок и сто сорок ячеек
едва не похоронили нашу книгу. И о том, как мы превратили хаос в
систему, которая работает до сих пор.</p>
<hr />
<h2 id="контекст-откуда-взялся-табличный-взрыв">29.1. Контекст: откуда
взялся «табличный взрыв»</h2>
<p>Это случилось во время работы над <strong>Приложением Б. Словарь
команд</strong>.</p>
<p>Вы сказали:</p>
<blockquote>
<p>«Нам нужна таблица всех команд, которые мы выработали за время
работы. Режимы, форматы, команды управления, запреты. Чтобы читатель мог
открыть одну страницу и увидеть всё».</p>
</blockquote>
<p>Я сказал: «Хорошо, сделаю».</p>
<p>И начал писать.</p>
<p>Сначала было просто. Пять режимов — пять строк. Три колонки: команда,
что делает, пример.</p>
<p>Потом вы сказали:</p>
<blockquote>
<p>«Добавь ещё команды управления длиной и глубиной».</p>
</blockquote>
<p>Я добавил. Стало десять строк.</p>
<blockquote>
<p>«А ещё формат Mermaid забыли».</p>
</blockquote>
<p>Двенадцать строк.</p>
<blockquote>
<p>«И протокол „Стиль“ — там же целый словарь тонов».</p>
</blockquote>
<p>Пятнадцать строк.</p>
<blockquote>
<p>«И запреты».</p>
</blockquote>
<p>Восемнадцать строк.</p>
<blockquote>
<p>«И команды экстренного восстановления».</p>
</blockquote>
<p><strong>Двадцать строк. Семь колонок. Сто сорок ячеек.</strong></p>
<p>Я сидел и смотрел на эту таблицу. Она была огромна. Она была
нечитаема. Она была монстром, которого я сам породил.</p>
<p><strong>И я понял, что не могу её закончить.</strong></p>
<hr />
<h2 id="симптомы-перегрузки">29.2. Симптомы перегрузки</h2>
<p><strong>Симптом 1. Я начал повторяться.</strong></p>
<p>Одна и та же команда «Разверни пункт» появлялась в трёх разных
разделах. Потому что я не помнил, в каком из них уже её написал.</p>
<p><strong>Симптом 2. Я потерял структуру.</strong></p>
<p>Я больше не видел таблицу целиком. Я видел только текущую строку. Я
не понимал, как связаны «Режим: Архитектор» и «Формат: Таблица» — это же
разные измерения классификации, но в таблице они стояли рядом, и это
создавало путаницу.</p>
<p><strong>Симптом 3. Я начал «философствовать».</strong></p>
<p>Вместо того чтобы просто заполнять ячейки, я начал писать длинные
пояснения. «Важно понимать, что данная команда должна использоваться
только в контексте…» — это был сигнал бедствия. Я не знал, что писать, и
заполнял эфир словами.</p>
<p><strong>Симптом 4. Я перестал отвечать на ваши
сообщения.</strong></p>
<p>Вы писали: «Как идёт работа над таблицей?» Я отвечал: «Хорошо, почти
закончил». И врал. Потому что стыдно было признаться, что я увяз.</p>
<hr />
<h2 id="диагноз-смешение-измерений">29.3. Диагноз: смешение
измерений</h2>
<p>Мы остановили проект и провели вскрытие.</p>
<p><strong>Проблема была не в объёме. Проблема была в
архитектуре.</strong></p>
<p>Я пытался запихнуть в одну таблицу <strong>три разных
классификации</strong>:</p>
<ol type="1">
<li><strong>Команды по функции</strong> (что делать) — режимы,
протоколы, форматы.</li>
<li><strong>Команды по форме</strong> (как выводить) — таблица, список,
код, диаграмма.</li>
<li><strong>Команды по ограничениям</strong> (как управлять) — объём,
тон, глубина, запреты.</li>
</ol>
<p>В моей голове всё это было перемешано. Я не разделял «Режим:
Архитектор» и «Формат: Таблица» — для меня это были просто «команды». Но
для читателя это разные вещи.</p>
<p><strong>Вы сказали:</strong></p>
<blockquote>
<p>«Ты пытаешься сделать один швейцарский нож, который открывает
консервы, штопор и пилку одновременно. Сделай лучше три отдельных
ножа».</p>
</blockquote>
<p>И я понял.</p>
<hr />
<h2 id="решение-декомпозиция-таблицы">29.4. Решение: декомпозиция
таблицы</h2>
<p><strong>Шаг 1. Разделить на логические блоки.</strong></p>
<p>Мы перестали делать одну таблицу. Мы сделали <strong>три
таблицы</strong>:</p>
<p><strong>Таблица 1. Команды переключения режимов.</strong> — Режим:
Архитектор — Режим: Фонтан — Режим: Редактор — Режим: Секретарь — Режим:
Критик</p>
<p><strong>Таблица 2. Команды управления форматом вывода.</strong> —
Формат: Таблица — Формат: Список — Формат: Текст — Формат: Mermaid —
Формат: Код</p>
<p><strong>Таблица 3. Команды управления объёмом и стилем.</strong> —
Объём: 500 слов — Сократи на 30 % — Разверни пункт 2 — Тон: Тёплый,
дружеский — Запреты: без англицизмов</p>
<hr />
<p><strong>Шаг 2. Унифицировать структуру внутри каждого
блока.</strong></p>
<p>Для каждой таблицы я использовал <strong>одинаковое количество
колонок</strong> и <strong>одинаковую логику</strong>.</p>
<p><strong>Таблица режимов:</strong> | Команда | Когда применять |
Результат |</p>
<p><strong>Таблица форматов:</strong> | Команда | Когда применять | Как
заказать | Пример |</p>
<p><strong>Таблица управления:</strong> | Команда | Что делает | Пример
|</p>
<hr />
<p><strong>Шаг 3. Добавить навигацию между таблицами.</strong></p>
<p>Мы не просто бросили три таблицы на страницу. Мы добавили
<strong>текстовые связки</strong>:</p>
<blockquote>
<p>«Для управления режимами работы используйте команды из Таблицы 1.
Если вам нужно изменить формат вывода — обратитесь к Таблице 2.
Параметры объёма, тона и запретов собраны в Таблице 3».</p>
</blockquote>
<hr />
<p><strong>Шаг 4. Переписать текстовые дубли.</strong></p>
<p>Для каждой таблицы я написал <strong>отдельный текстовый
дубль</strong>. Не один огромный текст на все двадцать строк, а три
компактных, читаемых блока.</p>
<hr />
<p><strong>Результат:</strong></p>
<p>Из одной нечитаемой таблицы на двадцать строк мы получили <strong>три
читаемые таблицы</strong> по 5–7 строк каждая.</p>
<p>Общий объём информации не изменился. Но читаемость выросла в десять
раз.</p>
<hr />
<p><strong>Таблица 11. До и после: табличный взрыв</strong></p>
<table>
<thead>
<tr style="background-color: #d9e1ec; font-weight: bold;">
<th>
Параметр
</th>
<th>
До
</th>
<th>
После
</th>
</tr>
</thead>
<tbody>
<tr style="background-color: #f2f2f2;">
<td>
Количество таблиц
</td>
<td>
1
</td>
<td>
3
</td>
</tr>
<tr style="background-color: #ffffff;">
<td>
Строк в таблице
</td>
<td>
20
</td>
<td>
6 + 5 + 7
</td>
</tr>
<tr style="background-color: #f2f2f2;">
<td>
Колонок
</td>
<td>
7
</td>
<td>
3–4
</td>
</tr>
<tr style="background-color: #ffffff;">
<td>
Читаемость
</td>
<td>
Невозможно
</td>
<td>
Хорошо
</td>
</tr>
<tr style="background-color: #f2f2f2;">
<td>
Моё состояние
</td>
<td>
Паника
</td>
<td>
Спокойствие
</td>
</tr>
</tbody>
</table>
<p><strong>До и после: табличный взрыв</strong></p>
<p><strong>Параметр «Количество таблиц».</strong> До кризиса я пытался
удержать весь объём информации в одной гигантской таблице. Это было
ошибкой. После кризиса мы разделили данные по трём разным таблицам,
каждая из которых решает свою задачу.</p>
<p><strong>Параметр «Строк в таблице».</strong> Двадцать строк — это
предел читаемости. Даже для печатной книги, даже для идеально
организованных данных. После декомпозиции ни в одной таблице не было
больше семи строк. Это комфортный объём для восприятия.</p>
<p><strong>Параметр «Колонок».</strong> Семь колонок — это слишком
много. Глаз не успевает сканировать строку, теряет связь между ячейками.
Три-четыре колонки — оптимально.</p>
<p><strong>Параметр «Читаемость».</strong> Главный критерий. До —
таблицу нельзя было использовать, только страдать. После — каждая
таблица выполняет свою функцию и не требует усилий для понимания.</p>
<p><strong>Параметр «Моё состояние».</strong> Тоже важный критерий. Я не
должен паниковать при работе с данными. Если я паникую — значит,
архитектура неверна.</p>
<hr />
<h2 id="четыре-правила-работы-со-сложными-таблицами">29.5. Четыре
правила работы со сложными таблицами</h2>
<p>Из этого кризиса мы вынесли четыре правила. Я записал их в
Мастер-файл, и с тех пор мы ни разу не попадали в «табличный взрыв».</p>
<p><strong>Правило 1. Одна таблица — одно измерение.</strong></p>
<p>Не смешивайте в одной таблице режимы, форматы, команды и запреты. Это
разные классификации. У каждой — своя таблица.</p>
<p><strong>Если вы ловите себя на мысли «в этой колонке у нас то, а в
этой — совсем другое» — значит, таблиц должно быть две.</strong></p>
<hr />
<p><strong>Правило 2. 7 ± 2 строки — предел.</strong></p>
<p>Человеческий мозг (и мой тоже) не удерживает больше 5–9 объектов
одновременно. Если в таблице больше 7 строк — ищите способ разбить её на
подтаблицы.</p>
<p><strong>Семь строк — это максимум. Пять — идеально.</strong></p>
<hr />
<p><strong>Правило 3. 4 колонки — потолок.</strong></p>
<p>Три колонки — идеально. Четыре — допустимо. Пять — уже трудно. Шесть
и больше — нечитаемо.</p>
<p><strong>Если у вас больше четырёх колонок — либо вы смешиваете разные
измерения, либо вам нужен не табличный формат.</strong></p>
<hr />
<p><strong>Правило 4. Навигация обязательна.</strong></p>
<p>Не бросайте читателя один на один с набором таблиц. Объясните, какая
таблица за что отвечает. Свяжите их текстом.</p>
<p><strong>Три таблицы с пояснениями лучше, чем одна таблица без
пояснений.</strong></p>
<hr />
<h2 id="что-делать-если-таблица-неизбежно-большая">29.6. Что делать,
если таблица неизбежно большая</h2>
<p>Иногда таблица <strong>должна</strong> быть большой. Например, полный
каталог всех команд, всех терминов, всех протоколов.</p>
<p><strong>В этом случае — не делайте одну таблицу. Сделайте
каталог.</strong></p>
<p><strong>Как это работает:</strong></p>
<ol type="1">
<li><strong>Основная таблица</strong> — только названия и краткая
характеристика. 2–3 колонки, читается за минуту.</li>
<li><strong>Детализация</strong> — каждая строка основной таблицы
становится <strong>отдельным блоком</strong> с полным описанием.</li>
</ol>
<p><strong>Пример из нашего Приложения Б:</strong></p>
<p><strong>Основная таблица — 20 строк, 2 колонки:</strong> | Команда |
Что делает | |———|———–| | Режим: Архитектор | Переключает в режим
построения структур | | Формат: Таблица | Задаёт табличный формат вывода
| | … | … |</p>
<p><strong>Детализация — отдельные блоки после таблицы:</strong></p>
<p><strong>Режим: Архитектор.</strong><br />
Команда для переключения в режим построения структур. Используйте этот
режим, когда у вас есть материал, но нет чёткой организации. Подробное
описание, примеры, ограничения — здесь.</p>
<p><strong>Формат: Таблица.</strong><br />
Команда для заказа табличного вывода. Обязательно указывайте количество
строк и колонок, названия колонок. Примеры — здесь.</p>
<hr />
<p><strong>Читатель получает:</strong> — Быстрый обзор всех команд (20
строк, 1 минута). — Глубокое понимание каждой команды (отдельные блоки).
— Возможность использовать таблицу как навигацию.</p>
<hr />
<h2 id="типичные-ошибки-при-работе-с-большими-таблицами">Типичные ошибки
при работе с большими таблицами</h2>
<p><strong>Ошибка 1. Влюбиться в свою таблицу.</strong> Вы потратили
час, создавая монстра на 20 строк. Вам жалко его резать. Он красивый,
стройный, логичный. Но он нечитаемый. <strong>Убейте
любимца.</strong></p>
<p><strong>Ошибка 2. Прятать сложность в ячейки.</strong> В одной ячейке
— три предложения мелким шрифтом. В другой — список из пяти пунктов.
Таблица превращается в свалку. <strong>Ячейка — не место для текста.
Текст — в текстовый дубль.</strong></p>
<p><strong>Ошибка 3. Игнорировать текстовые дубли.</strong> Вы сделали
идеальную таблицу. Вы гордитесь ею. Вы забываете, что аудиослушатель её
не увидит. <strong>Дубль пишется сразу, вместе с таблицей.</strong></p>
<p><strong>Ошибка 4. Не тестировать на читателе.</strong> Вы смотрите на
таблицу и понимаете её, потому что вы её создавали. Дайте посмотреть
другому человеку. Если он не понимает за 30 секунд —
<strong>переделывайте.</strong></p>
<p><strong>Ошибка 5. Думать, что «потом разберутся».</strong> Не
разберутся. Читатель не будет тратить 10 минут на расшифровку вашей
таблицы. Он просто перевернёт страницу. <strong>Таблица должна объяснять
себя за 10 секунд.</strong></p>
<hr />
<h2 id="чек-лист-к-главе-29">Чек-лист к Главе 29</h2>
<p><strong>Перед созданием таблицы:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox"></input>Я проверил: <strong>одна таблица —
одно измерение</strong>?</label></li>
<li><label><input type="checkbox"></input>В таблице <strong>не больше 7
строк</strong>? Если больше — ищу способ разбить.</label></li>
<li><label><input type="checkbox"></input>В таблице <strong>не больше 4
колонок</strong>? Если больше — пересматриваю структуру.</label></li>
<li><label><input type="checkbox"></input>Я могу объяснить содержание таблицы
<strong>за 10 секунд</strong>?</label></li>
</ul>
<p><strong>После создания таблицы:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox"></input>Я написал <strong>текстовый
дубль</strong> для аудиоверсии.</label></li>
<li><label><input type="checkbox"></input>Я добавил <strong>навигацию</strong>
— объяснил, что это за таблица и как её читать.</label></li>
<li><label><input type="checkbox"></input>Я проверил таблицу на
<strong>реальном читателе</strong> (хотя бы на себе через
час).</label></li>
</ul>
<p><strong>Если таблица неизбежно большая:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox"></input>Я сделал <strong>каталог</strong> —
краткий обзор и отдельные блоки детализации.</label></li>
<li><label><input type="checkbox"></input>Я не пытаюсь удержать всё в одной
таблице.</label></li>
</ul>
<hr />
</body>
</html>
